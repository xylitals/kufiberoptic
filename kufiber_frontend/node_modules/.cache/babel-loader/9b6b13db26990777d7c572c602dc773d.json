{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/fiberproj/kufiber_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{InputGroup,ListGroup,Table,Badge,Navbar,Nav,Form,Button,FormControl,Card,Container,Row,Col,DropdownButton,Dropdown,Select,Option,Jumbotron}from'react-bootstrap';import*as Icon from'react-bootstrap-icons';import Headbar from'./headbar';import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import{Link}from'react-router-dom';import'./style.css';import Bottom from'./bottom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Filldata2=function Filldata2(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var history=useHistory();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setsearchTerm=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),repair=_useState6[0],setRepair=_useState6[1];useEffect(function(){fetch('/repair').then(function(res){return res.json();}).then(function(repair){return setRepair(repair);});console.log(repair);},[]);/*const pustproduct1 =(pid)=>{\r\n    fetch('/products/'+pid)\r\n        .then(res => res.json())\r\n        .then(product => setProduct(product))\r\n    return(\r\n      <div>{product.station1}</div>\r\n    );\r\n  }\r\n\r\n  const pustproduct2 =(pid)=>{\r\n      fetch('/products/'+pid)\r\n          .then(res => res.json())\r\n          .then(product => setProduct(product))\r\n    return(\r\n      <div>{product.station2}</div>\r\n    );\r\n  }*/var count=repair.filter(function(v){if(searchTerm==''){return v;}else if(v.rdetale.toLowerCase().includes(searchTerm.toLowerCase())){return v;}}).length;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsxs(Col,{xs:\"12\",children:[/*#__PURE__*/_jsxs(InputGroup,{size:\"sm\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(InputGroup.Prepend,{size:\"sm\",children:/*#__PURE__*/_jsx(InputGroup.Text,{size:\"sm\",children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E0B\\u0E48\\u0E2D\\u0E21:\"})}),/*#__PURE__*/_jsx(FormControl,{size:\"sm\",type:\"string\",placeholder:\"Search From Keyword\",onChange:function onChange(el){setsearchTerm(el.target.value);}})]}),/*#__PURE__*/_jsxs(Button,{variant:\"warning\",size:\"sm\",children:[\"\\u0E1C\\u0E25\\u0E25\\u0E31\\u0E1E\\u0E18\\u0E4C\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 \",/*#__PURE__*/_jsx(Badge,{variant:\"light\",children:count}),\" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\",/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"unread messages\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E14\\u0E33\\u0E40\\u0E19\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:repair.filter(function(val){if(searchTerm==''){return val;}else if(val.rdetale.toLowerCase().includes(searchTerm.toLowerCase())){return val;}}).sort(function(a,b){a.rdetale=a.rdetale.toLowerCase();b.rdetale=b.rdetale.toLowerCase();if(a.rdetale>b.rdetale){return 1;}else if(a.rdetale<b.rdetale){return-1;}else{return 0;}}).map(function(el){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",el.rdetale]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",el.rdate,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[' ',/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"dark\",type:\"submit\",href:\"/product/\"+el.rid,children:[/*#__PURE__*/_jsx(Icon.ArrowDownRightCircle,{}),' รายละเอียด']})]})})]},el.id);})})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Col,{})]})})});};var RepairList=function RepairList(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App-main\",children:[/*#__PURE__*/_jsx(Headbar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsx(Col,{xs:\"12\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsx(\"h3\",{children:' รายการซ่อมเส้นใยนำแสงภายในมหาวิทยาลัย'})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Filldata2,{})})]})}),/*#__PURE__*/_jsx(Col,{})]})}),/*#__PURE__*/_jsx(Bottom,{})]});};export default RepairList;","map":{"version":3,"sources":["C:/Users/user/Desktop/fiberproj/kufiber_frontend/src/components/repairlist.js"],"names":["InputGroup","ListGroup","Table","Badge","Navbar","Nav","Form","Button","FormControl","Card","Container","Row","Col","DropdownButton","Dropdown","Select","Option","Jumbotron","Icon","Headbar","React","useState","useEffect","useHistory","Link","Bottom","Filldata2","product","setProduct","history","searchTerm","setsearchTerm","repair","setRepair","fetch","then","res","json","console","log","count","filter","v","rdetale","toLowerCase","includes","length","el","target","value","val","sort","a","b","map","rdate","rid","id","RepairList"],"mappings":"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","sourcesContent":["import { InputGroup,ListGroup,Table,Badge,Navbar,Nav,Form,Button,FormControl,Card,Container,Row,Col,DropdownButton,Dropdown,Select,Option,Jumbotron} from 'react-bootstrap';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport Headbar from './headbar';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory  } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport './style.css';\r\nimport Bottom from './bottom';\r\n\r\n\r\nconst Filldata2 = () => {\r\n  const [product, setProduct] = useState([])\r\n  const history = useHistory();\r\n  const [searchTerm, setsearchTerm] = useState([])\r\n  const [repair, setRepair] = useState([])\r\n\r\n  useEffect(() => {\r\n    fetch('/repair')\r\n      .then(res => res.json())\r\n      .then(repair => setRepair(repair))\r\n      console.log(repair)\r\n  },[])\r\n\r\n  /*const pustproduct1 =(pid)=>{\r\n    fetch('/products/'+pid)\r\n        .then(res => res.json())\r\n        .then(product => setProduct(product))\r\n    return(\r\n      <div>{product.station1}</div>\r\n    );\r\n  }\r\n\r\n  const pustproduct2 =(pid)=>{\r\n      fetch('/products/'+pid)\r\n          .then(res => res.json())\r\n          .then(product => setProduct(product))\r\n    return(\r\n      <div>{product.station2}</div>\r\n    );\r\n  }*/\r\n\r\n  const count = repair.filter((v)=>{\r\n    if (searchTerm == ''){\r\n      return v\r\n    }\r\n    else if(v.rdetale.toLowerCase().includes(searchTerm.toLowerCase())){\r\n      return v\r\n    }\r\n  }).length\r\n  \r\n\r\n  return (\r\n      <div>\r\n            <Container>\r\n            <Row>\r\n            <Col></Col>\r\n            <Col xs=\"12\">\r\n            \r\n            <InputGroup size=\"sm\" className=\"mb-3\">\r\n                <InputGroup.Prepend size=\"sm\">\r\n                <InputGroup.Text size=\"sm\">รายการซ่อม:</InputGroup.Text>\r\n                </InputGroup.Prepend >\r\n                <FormControl \r\n                  size=\"sm\"\r\n                  type=\"string\" \r\n                  placeholder = \"Search From Keyword\"\r\n                  onChange={(el)=>{\r\n                    setsearchTerm(el.target.value);\r\n                  }}\r\n                />\r\n                </InputGroup>\r\n                  \r\n                <Button variant=\"warning\" size=\"sm\">\r\n                ผลลัพธ์ทั้งหมด <Badge variant=\"light\">{count}</Badge> รายการ\r\n                <span className=\"sr-only\">unread messages</span>\r\n                </Button>\r\n                <br/>\r\n                  <br></br>\r\n                  <Table striped bordered hover size=\"sm\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>รายการ</th>\r\n                            <th>วันที่ดำเนินการ</th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n\r\n                         {repair.filter((val)=>{\r\n                            if (searchTerm == ''){\r\n                              return val\r\n                            }\r\n                            else if(\r\n                              (val.rdetale.toLowerCase().includes(searchTerm.toLowerCase()))\r\n                            ){\r\n                              return val\r\n                            }\r\n\r\n                          }).sort(function(a,b){\r\n                            a.rdetale = a.rdetale.toLowerCase();\r\n                            b.rdetale = b.rdetale.toLowerCase();\r\n                            if(a.rdetale>b.rdetale){\r\n                              return 1;}\r\n                            else if(a.rdetale<b.rdetale){\r\n                              return -1;}\r\n                            else {\r\n                              return 0;}\r\n                          }).map(el=> (\r\n                          <tr key={el.id}>\r\n                            <td> {el.rdetale}</td>\r\n                            <td> {el.rdate} </td>\r\n                            <td> \r\n                            <div>\r\n                            {' '}\r\n                            <Button size=\"sm\" variant=\"dark\" type=\"submit\" href={\"/product/\"+el.rid}>\r\n                            <Icon.ArrowDownRightCircle/>{' รายละเอียด'}\r\n                            </Button>\r\n                            \r\n                            </div>\r\n                            </td>\r\n                          </tr>)\r\n                          )}\r\n                          </tbody>\r\n                      </Table>\r\n                    <br></br>\r\n                  \r\n            </Col>\r\n            <Col></Col>\r\n            </Row>\r\n            </Container>\r\n      </div>\r\n    );\r\n}\r\n\r\nconst RepairList = () => {\r\n  return (\r\n    <div className=\"App-main\">\r\n    <Headbar></Headbar>\r\n    <br></br>\r\n          <Container>\r\n          <Row>\r\n          <Col></Col>\r\n          <Col xs=\"12\">\r\n            <Card>\r\n            <Card.Header>\r\n            <h3>{' รายการซ่อมเส้นใยนำแสงภายในมหาวิทยาลัย'}</h3></Card.Header>\r\n            <Card.Body>\r\n              <Filldata2></Filldata2>      \r\n            </Card.Body>\r\n            </Card>\r\n          </Col>\r\n          <Col></Col>\r\n          </Row>\r\n          </Container>\r\n          <Bottom></Bottom>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RepairList;\r\n"]},"metadata":{},"sourceType":"module"}