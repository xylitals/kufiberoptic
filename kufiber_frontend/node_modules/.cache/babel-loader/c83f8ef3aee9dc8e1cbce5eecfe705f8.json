{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/fiberproj/kufiber_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Table,Badge,InputGroup,Navbar,Nav,Form,Button,FormControl,Card,Container,Row,Col,DropdownButton,Dropdown,Select,Option,Jumbotron}from'react-bootstrap';import*as Icon from'react-bootstrap-icons';import Headbar from'./headbar';import Filldata from\"./fiberlist\";import React,{useState,useEffect}from'react';import'./style.css';import{Link}from'react-router-dom';import'./style.css';import Bottom from'./bottom';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setsearchTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setProduct=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),station=_useState6[0],setStation=_useState6[1];var history=useHistory();useEffect(function(){fetch('/products').then(function(res){return res.json();}).then(function(product){return setProduct(product);});console.log(product);},[]);useEffect(function(){fetch('/station').then(function(res){return res.json();}).then(function(station){return setStation(station);});console.log(station);},[]);var Del=function Del(dataid){if(window.confirm('จะลบช้ะะะะ?')){fetch('/products/'+dataid,{method:'DELETE',header:{'Accept':'application/json','Content-Type':'application/json'}});}};var see=function see(eventId){history.push({pathname:'/product/'+eventId});};var ed=function ed(eventId){history.push({pathname:'/editproduct/'+eventId});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App-main\",children:[/*#__PURE__*/_jsx(Headbar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsxs(Col,{xs:\"12\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{as:\"h5\",children:\"SEARCH\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(InputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(InputGroup.Prepend,{children:/*#__PURE__*/_jsx(InputGroup.Text,{children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23:\"})}),/*#__PURE__*/_jsx(FormControl,{type:\"text\",placeholder:\"Search From Keyword\",onChange:function onChange(el){setsearchTerm(el.target.value);}})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Button,{variant:\"warning\",children:[\"\\u0E1C\\u0E25\\u0E25\\u0E31\\u0E1E\\u0E18\\u0E4C\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 \",/*#__PURE__*/_jsx(Badge,{variant:\"light\",children:\"2\"}),\" \\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\",/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"unread messages\"})]})]}),/*#__PURE__*/_jsx(Col,{})]})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsxs(Col,{xs:\"12\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsxs(Button,{variant:\"success\",size:\"sm\",href:\"/insert\",children:[/*#__PURE__*/_jsx(Icon.PlusCircle,{}),' NEW']}),' รายการเส้นใยนำแสงภายในมหาวิทยาลัย']})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E15\\u0E49\\u0E19\\u0E17\\u0E32\\u0E07\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E1B\\u0E25\\u0E32\\u0E22\\u0E17\\u0E32\\u0E07\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:product.filter(function(val){if(searchTerm==''){return val;}else if(val.name.toLowerCase().includes(searchTerm.toLowerCase())){return val;}}).map(function(el){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",el.name,' ',/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",children:el.status}),\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",el.station1,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",el.station2,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[' ',/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return see(el._id);},children:/*#__PURE__*/_jsxs(Button,{type:\"submit\",variant:\"primary\",size:\"sm\",children:[/*#__PURE__*/_jsx(Icon.ArrowDownRightCircle,{}),' รายละเอียด']})}),' ',/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return ed(el._id);},target:\"_blank\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"warning\",size:\"sm\",children:/*#__PURE__*/_jsx(Icon.PencilSquare,{})})}),' ',/*#__PURE__*/_jsx(Button,{variant:\"danger\",type:\"submit\",size:\"sm\",onClick:function onClick(){return Del(el._id);},href:\"/list\",children:/*#__PURE__*/_jsx(Icon.Trash,{})})]})})]},el.id);})})]})})]})]}),/*#__PURE__*/_jsx(Col,{})]})})]});};export default Search;","map":{"version":3,"sources":["C:/Users/user/Desktop/fiberproj/kufiber_frontend/src/components/searchandlist.js"],"names":["Table","Badge","InputGroup","Navbar","Nav","Form","Button","FormControl","Card","Container","Row","Col","DropdownButton","Dropdown","Select","Option","Jumbotron","Icon","Headbar","Filldata","React","useState","useEffect","Link","Bottom","useHistory","Search","searchTerm","setsearchTerm","product","setProduct","station","setStation","history","fetch","then","res","json","console","log","Del","dataid","window","confirm","method","header","see","eventId","push","pathname","ed","el","target","value","filter","val","name","toLowerCase","includes","map","status","station1","station2","_id","id"],"mappings":"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","sourcesContent":["import { Table,Badge,InputGroup,Navbar,Nav,Form,Button,FormControl,Card,Container,Row,Col,DropdownButton,Dropdown,Select,Option,Jumbotron} from 'react-bootstrap';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport Headbar from './headbar';\r\nimport Filldata from \"./fiberlist\"\r\nimport React, { useState, useEffect } from 'react';\r\nimport './style.css';\r\nimport { Link } from 'react-router-dom';\r\nimport './style.css';\r\nimport Bottom from './bottom';\r\nimport { useHistory  } from 'react-router-dom';\r\n\r\nconst Search = () => {\r\n\r\n  const [searchTerm, setsearchTerm] = useState([])\r\n  const [product, setProduct] = useState([])\r\n  const [station, setStation] = useState([])\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetch('/products')\r\n      .then(res => res.json())\r\n      .then(product => setProduct(product))\r\n      console.log(product)\r\n  },[])\r\n\r\n  \r\n  useEffect(() => {\r\n    fetch('/station')\r\n      .then(res => res.json())\r\n      .then(station => setStation(station))\r\n      console.log(station)\r\n  },[])\r\n\r\n  const Del = (dataid) =>\r\n  {\r\n    if(window.confirm('จะลบช้ะะะะ?'))\r\n    {\r\n      fetch('/products/'+dataid, \r\n      { method: 'DELETE' ,\r\n        header: {'Accept':'application/json','Content-Type':'application/json'}\r\n      })\r\n    }\r\n  }\r\n  \r\n  const see = (eventId) => {\r\n    history.push({\r\n      pathname: '/product/' + eventId\r\n    })\r\n  }\r\n\r\n  const ed = (eventId) => {\r\n    history.push({\r\n      pathname: '/editproduct/' + eventId\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"App-main\">\r\n    <Headbar></Headbar>\r\n    <br></br>\r\n    <Container>\r\n          <Row>\r\n          <Col></Col>\r\n          <Col xs=\"12\">\r\n            <Card>\r\n            <Card.Header as=\"h5\">SEARCH</Card.Header>\r\n            <Card.Body>\r\n                <InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                <InputGroup.Text>รายการ:</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl \r\n                  type=\"text\" \r\n                  placeholder = \"Search From Keyword\"\r\n                  onChange={(el)=>{\r\n                    setsearchTerm(el.target.value);\r\n                  }}\r\n                />\r\n                </InputGroup>\r\n            </Card.Body>\r\n            </Card>\r\n            <br></br>\r\n            <Button variant=\"warning\">\r\n              ผลลัพธ์ทั้งหมด <Badge variant=\"light\">2</Badge> รายการ\r\n              <span className=\"sr-only\">unread messages</span>\r\n            </Button>\r\n\r\n          </Col>\r\n          <Col></Col>\r\n\r\n          </Row>\r\n    </Container>\r\n\r\n    <br></br>\r\n\r\n    <Container>\r\n          <Row>\r\n          <Col></Col>\r\n          <Col xs=\"12\">\r\n          <br></br>\r\n\r\n          <Card>\r\n            <Card.Header>\r\n            <h3><Button variant=\"success\" size=\"sm\" href=\"/insert\"><Icon.PlusCircle/>{' NEW'}</Button>{' รายการเส้นใยนำแสงภายในมหาวิทยาลัย'}</h3></Card.Header>\r\n            <Card.Body>\r\n                  <Table striped bordered hover size=\"sm\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>รายการ</th>\r\n                            <th>ต้นทาง</th>\r\n                            <th>ปลายทาง</th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n            {product.filter((val)=>{\r\n              if (searchTerm == ''){\r\n                return val\r\n              }\r\n              else if(val.name.toLowerCase().includes(searchTerm.toLowerCase())){\r\n                return val\r\n              }\r\n\r\n            }).map((el)=> {\r\n                    return (\r\n                      <tr key={el.id}>\r\n                      <td> {el.name}{' '}<Badge variant=\"secondary\">{el.status}</Badge> </td>\r\n                      <td> {el.station1} </td>\r\n                      <td> {el.station2} </td>\r\n                      <td>\r\n                      <div className=\"center\">\r\n                      {' '}\r\n                      <Link  \r\n                            onClick = { () => see(el._id) }\r\n                            \r\n                      >\r\n                            <Button type=\"submit\" variant=\"primary\" size=\"sm\" >\r\n                            <Icon.ArrowDownRightCircle/>{' รายละเอียด'}\r\n                            </Button>\r\n                      </Link>\r\n                      {' '}\r\n                      <Link  \r\n                            onClick = { () => ed(el._id) }\r\n                            target=\"_blank\"\r\n                      >\r\n                            <Button type=\"submit\" variant=\"warning\"  size=\"sm\" >\r\n                            <Icon.PencilSquare/>\r\n                            </Button>\r\n                      </Link>\r\n                      {' '}\r\n                      <Button variant=\"danger\" type=\"submit\" size=\"sm\" onClick={()=>Del(el._id)} href=\"/list\">\r\n                        <Icon.Trash/>\r\n                      </Button>\r\n                      </div>\r\n                      </td>\r\n                    </tr>\r\n                    );\r\n            })}\r\n            </tbody>\r\n            </Table>\r\n            </Card.Body>\r\n            </Card>\r\n          </Col>\r\n          <Col></Col>\r\n          </Row>\r\n    </Container>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}