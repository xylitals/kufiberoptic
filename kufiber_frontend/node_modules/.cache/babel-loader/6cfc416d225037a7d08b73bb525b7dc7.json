{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/fiberproj/kufiber_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Form,Button,Card,Container,Row,Col,Nav}from'react-bootstrap';import'./style.css';import Bottom from'./bottom';import React,{useState,useEffect}from'react';//import axios from 'axios';\nimport{Link}from'react-router-dom';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),loginstatus=_useState2[0],setloginstatus=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),logusername=_useState4[0],setlogusername=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),logpassword=_useState6[0],setlogpassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),regstatus=_useState8[0],setregstatus=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),regusername=_useState10[0],setregusername=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),regpassword=_useState12[0],setregpassword=_useState12[1];var history=useHistory();useEffect(function(){gotlogin();},[]);var gotlogin=function gotlogin(){fetch(\"/login\").then(function(res){return res.json();}).then(function(res){if(res.data.message===\"go\"){history.push({pathname:'/main'});}else{history.push({pathname:'/login'});}setloginstatus(res.data.message);});};/*\r\n  const register =()=>{\r\n    Axios.post(\"/register\",{\r\n      username: regusername,\r\n      password: regpassword,\r\n    }).then((res)=>{\r\n      \r\n    });\r\n  }*/var login=function login(){/*Axios.post(\"/login\",{\r\n      username: logusername,\r\n      password: logpassword,\r\n    }).then((res)=>{\r\n      \r\n    });*/fetch(\"/login\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},username:logusername,password:logpassword});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App-main\",children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsxs(Col,{xs:\"7\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{as:\"h5\",children:\"Admin Login\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"string\",placeholder:\"Enter User\",onChange:function onChange(e){setlogusername(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){setlogpassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{onClick:login,variant:\"success\",type:\"submit\",children:\"login\"})]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{as:\"h5\",children:\"register\"}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"string\",placeholder:\"Enter User\",onChange:function onChange(e){setregusername(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:function onChange(e){setregpassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button//onClick={register} \n,{variant:\"success\",type:\"submit\",children:\"Create\"})]})})]})]}),/*#__PURE__*/_jsx(Col,{})]})]}),/*#__PURE__*/_jsx(Bottom,{})]});};export default Login;","map":{"version":3,"sources":["C:/Users/user/Desktop/fiberproj/kufiber_frontend/src/components/loginpage.js"],"names":["Form","Button","Card","Container","Row","Col","Nav","Bottom","React","useState","useEffect","Link","useHistory","Login","loginstatus","setloginstatus","logusername","setlogusername","logpassword","setlogpassword","regstatus","setregstatus","regusername","setregusername","regpassword","setregpassword","history","gotlogin","fetch","then","res","json","data","message","push","pathname","login","method","headers","username","password","e","target","value"],"mappings":"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","sourcesContent":["import {Form,Button,Card,Container,Row,Col,Nav} from 'react-bootstrap';\r\nimport './style.css';\r\nimport Bottom from './bottom';\r\nimport React, { useState, useEffect } from 'react';\r\n//import axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n\r\n  const [loginstatus, setloginstatus] = useState('');\r\n  const [logusername, setlogusername] = useState('');\r\n  const [logpassword, setlogpassword] = useState('');\r\n\r\n  const [regstatus, setregstatus] = useState('');\r\n  const [regusername, setregusername] = useState('');\r\n  const [regpassword, setregpassword] = useState('');\r\n\r\n  const history = useHistory()\r\n  \r\n  useEffect(() => {\r\n    gotlogin();\r\n  },[])\r\n\r\n  const gotlogin =()=>{\r\n      fetch(\"/login\")\r\n      .then(res => res.json())\r\n      .then((res)=>{\r\n        if (res.data.message === \"go\") {\r\n          history.push({\r\n            pathname : '/main'\r\n          })\r\n        }\r\n        else{\r\n          history.push({\r\n            pathname : '/login'\r\n          })\r\n        }\r\n        setloginstatus(res.data.message);\r\n      }\r\n      );\r\n  }\r\n\r\n  /*\r\n  const register =()=>{\r\n    Axios.post(\"/register\",{\r\n      username: regusername,\r\n      password: regpassword,\r\n    }).then((res)=>{\r\n      \r\n    });\r\n  }*/\r\n\r\n  const login =()=>{\r\n    /*Axios.post(\"/login\",{\r\n      username: logusername,\r\n      password: logpassword,\r\n    }).then((res)=>{\r\n      \r\n    });*/\r\n    fetch(\"/login\", {\r\n      method: 'POST',\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      username: logusername,\r\n      password: logpassword,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"App-main\">\r\n          <Container>\r\n          <br></br><br></br><br></br><br></br>\r\n          <Row>\r\n          <Col></Col>\r\n          <Col xs=\"7\">\r\n            <Card>\r\n            <Card.Header as=\"h5\">{\"Admin Login\"}</Card.Header>\r\n            <Card.Body>\r\n              <form>\r\n              <Form.Group controlId=\"formBasicEmail\">\r\n                <Form.Label>Username</Form.Label>\r\n                <Form.Control \r\n                  type=\"string\" \r\n                  placeholder=\"Enter User\" \r\n                  onChange={(e)=>{setlogusername(e.target.value)}}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group controlId=\"formBasicPassword\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control \r\n                  type=\"password\" \r\n                  placeholder=\"Password\" \r\n                  onChange={(e)=>{setlogpassword(e.target.value)}}\r\n                />\r\n              </Form.Group>\r\n\r\n              \r\n              <Button onClick={login} variant=\"success\" type=\"submit\">\r\n                login\r\n              </Button>\r\n            \r\n\r\n              </form>\r\n            </Card.Body>\r\n            </Card>\r\n            <br></br><br></br><br></br>\r\n            <Card>\r\n            <Card.Header as=\"h5\">{\"register\"}</Card.Header>\r\n            <Card.Body>\r\n              <form>\r\n              <Form.Group controlId=\"formBasicEmail\">\r\n                <Form.Label>Username</Form.Label>\r\n                <Form.Control \r\n                  type=\"string\" \r\n                  placeholder=\"Enter User\" \r\n                  onChange={(e)=>{setregusername(e.target.value)}}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group controlId=\"formBasicPassword\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control \r\n                  type=\"password\" \r\n                  placeholder=\"Password\" \r\n                  onChange={(e)=>{setregpassword(e.target.value)}}\r\n                />\r\n              </Form.Group>\r\n\r\n              \r\n              <Button //onClick={register} \r\n              variant=\"success\" type=\"submit\">\r\n                Create\r\n              </Button>\r\n            \r\n\r\n              </form>\r\n            </Card.Body>\r\n            </Card> \r\n          </Col>\r\n          <Col></Col>\r\n          </Row>\r\n          </Container>\r\n          <Bottom></Bottom>\r\n          \r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\nexport default Login;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}