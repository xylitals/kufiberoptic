{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/fiberproj/kufiber_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{InputGroup,Accordion,CardGroup,Carousel,ListGroup,Table,Badge,Navbar,Nav,Form,Button,FormControl,Card,Container,Row,Col,DropdownButton,Dropdown,Select,Option,Jumbotron}from'react-bootstrap';import*as Icon from'react-bootstrap-icons';import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import{useParams}from'react-router-dom';import Headbar from'./headbar';import Bottom from'./bottom';import UploadFiles from'./FileUpload';import{Link}from'react-router-dom';import test1 from'../img/test1.jpg';import test2 from'../img/test2.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Datapage=function Datapage(){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),repair=_useState4[0],setRepair=_useState4[1];useEffect(function(){fetch('/products/'+id).then(function(res){return res.json();}).then(function(product){return setProduct(product);});console.log(product);},[]);useEffect(function(){fetch('/repair').then(function(res){return res.json();}).then(function(repair){return setRepair(repair);});console.log(product);},[]);var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),rdetale=_useState6[0],setrdetale=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),rdate=_useState8[0],setrdate=_useState8[1];var _useState9=useState(id),_useState10=_slicedToArray(_useState9,2),rid=_useState10[0],setrid=_useState10[1];var handleSubmit=function handleSubmit(){if(window.confirm('are  you sure?')){var blog={rdetale:rdetale,rdate:rdate,rid:rid};fetch('/repair',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(blog)}).then(function(){console.log('new blog added');});}};var Del=function Del(dataid){if(window.confirm('จะลบช้ะะะะ?')){fetch('/products/'+dataid,{method:'DELETE',header:{'Accept':'application/json','Content-Type':'application/json'}});}};var Delr=function Delr(dataid){if(window.confirm('จะลบช้ะะะะ?')){fetch('/repair/'+dataid,{method:'DELETE',header:{'Accept':'application/json','Content-Type':'application/json'}});}};var ed=function ed(eventId){history.push({pathname:'/editproduct/'+eventId});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App-main\",children:[/*#__PURE__*/_jsx(Headbar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{}),/*#__PURE__*/_jsxs(Col,{xs:\"12\",children:[/*#__PURE__*/_jsxs(Card,{border:\"success\",children:[/*#__PURE__*/_jsxs(Card.Header,{as:\"h5\",children:[/*#__PURE__*/_jsx(Badge,{variant:\"success\",children:product?product.status:null}),' ',product?product.name:null,' ',/*#__PURE__*/_jsxs(\"p\",{className:\"right\",children:[' ',/*#__PURE__*/_jsx(Link,{onClick:function onClick(){return ed(id);},target:\"_blank\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"warning\",size:\"sm\",children:/*#__PURE__*/_jsx(Icon.PencilSquare,{})})}),' ',/*#__PURE__*/_jsx(Button,{variant:\"danger\",type:\"submit\",size:\"sm\",onClick:function onClick(){return Del(id);},href:\"/list\",children:/*#__PURE__*/_jsx(Icon.Trash,{})})]})]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"       \",/*#__PURE__*/_jsx(Badge,{variant:\"warning\",children:'ต้นทาง '}),'  :  ',product?product.station1:null,' ',/*#__PURE__*/_jsx(Badge,{variant:\"warning\",children:'ปลายทาง '}),'  :  ',product?product.station2:null,' ',/*#__PURE__*/_jsx(Badge,{variant:\"success\",children:'สถานะ'}),'  :  ',product?product.status:null]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"   \",/*#__PURE__*/_jsx(Badge,{variant:\"dark\",children:'ชนิดของสาย '}),'  :  ',product?product.fibertype:null,' ',/*#__PURE__*/_jsx(Badge,{variant:\"dark\",children:'ระยะทางโดยประมาณ '}),'  :  ',product?product.notuse_core:null,' เมตร ',' ',/*#__PURE__*/_jsx(Badge,{variant:\"dark\",children:'จำนวน core '}),'  :  ',product?product.core:null,' core ',' ',/*#__PURE__*/_jsx(Badge,{variant:\"dark\",children:'ใช้งานไปแล้ว '}),'  :  ',product?product.use_core:null,' core ',' ',/*#__PURE__*/_jsx(Badge,{variant:\"dark\",children:'คงเหลือที่ว่าง '}),'  :  ',product?product.notuse_core:null,' core ',' ']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"   \",/*#__PURE__*/_jsx(Badge,{variant:\"dark\",children:'วันที่'}),'  :  ',product?product.date:null,' ',/*#__PURE__*/_jsx(Badge,{variant:\"dark\",children:'ผู้ดำเนินการ '}),'  :  ',product?product.person:null,' ']})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card,{border:\"success\",children:[/*#__PURE__*/_jsx(Card.Header,{as:\"h5\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E01\\u0E32\\u0E23\\u0E0B\\u0E48\\u0E2D\\u0E21\\u0E41\\u0E0B\\u0E21\\u0E41\\u0E25\\u0E30\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E33\\u0E23\\u0E38\\u0E07\\u0E23\\u0E31\\u0E01\\u0E29\\u0E32\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(InputGroup,{size:\"sm\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(InputGroup.Prepend,{size:\"sm\",children:/*#__PURE__*/_jsx(InputGroup.Text,{size:\"sm\",children:\"id\"})}),/*#__PURE__*/_jsx(FormControl,{type:\"string\",required:true,value:rid,size:\"sm\",oncontextmenu:function oncontextmenu(e){return setrid(e.target.value);}})]}),/*#__PURE__*/_jsxs(InputGroup,{size:\"sm\",className:\"mb-3\",children:[/*#__PURE__*/_jsx(InputGroup.Prepend,{size:\"sm\",children:/*#__PURE__*/_jsx(InputGroup.Text,{size:\"sm\",children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"})}),/*#__PURE__*/_jsx(FormControl,{type:\"string\",required:true,value:rdetale,size:\"sm\",onChange:function onChange(e){return setrdetale(e.target.value);}}),/*#__PURE__*/_jsx(InputGroup.Prepend,{size:\"sm\",children:/*#__PURE__*/_jsx(InputGroup.Text,{size:\"sm\",children:\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E14\\u0E33\\u0E40\\u0E19\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\"})}),/*#__PURE__*/_jsx(FormControl,{size:\"sm\",type:\"string\",required:true,value:rdate,onChange:function onChange(e){return setrdate(e.target.value);}}),/*#__PURE__*/_jsx(Button,{size:\"sm\",type:\"submit\",variant:\"success\",onClick:handleSubmit,children:\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\"})]})]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"center\",children:\"date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"center\",children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E0B\\u0E48\\u0E2D\\u0E21\"}),/*#__PURE__*/_jsx(\"th\",{className:\"center\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:repair.filter(function(val){if(val.rid==id){return val;}}).map(function(el){return/*#__PURE__*/_jsxs(\"tr\",{children:[' ',/*#__PURE__*/_jsx(\"th\",{className:\"center\",children:el.rdate}),/*#__PURE__*/_jsxs(\"th\",{children:[' ',el.rdetale]}),/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",type:\"submit\",size:\"sm\",onClick:function onClick(){return Delr(el._id);},href:\"/product/\"+el.rid,children:/*#__PURE__*/_jsx(Icon.Trash,{})})})})]},el.id);})})]})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card,{border:\"success\",children:[/*#__PURE__*/_jsx(Card.Header,{as:\"h5\",children:\"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"}),/*#__PURE__*/_jsx(Card.Body,{children:product?product.anyelse:null})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Col,{})]})}),/*#__PURE__*/_jsx(Bottom,{})]});};export default Datapage;","map":{"version":3,"sources":["C:/Users/user/Desktop/fiberproj/kufiber_frontend/src/components/productdetale.js"],"names":["InputGroup","Accordion","CardGroup","Carousel","ListGroup","Table","Badge","Navbar","Nav","Form","Button","FormControl","Card","Container","Row","Col","DropdownButton","Dropdown","Select","Option","Jumbotron","Icon","React","useState","useEffect","useHistory","useParams","Headbar","Bottom","UploadFiles","Link","test1","test2","Datapage","history","id","product","setProduct","repair","setRepair","fetch","then","res","json","console","log","rdetale","setrdetale","rdate","setrdate","rid","setrid","handleSubmit","window","confirm","blog","method","headers","body","JSON","stringify","Del","dataid","header","Delr","ed","eventId","push","pathname","status","name","station1","station2","fibertype","notuse_core","core","use_core","date","person","e","target","value","filter","val","map","el","_id","anyelse"],"mappings":"uKAAA,OAASA,UAAT,CAAoBC,SAApB,CAA8BC,SAA9B,CAAwCC,QAAxC,CAAiDC,SAAjD,CAA2DC,KAA3D,CAAiEC,KAAjE,CAAuEC,MAAvE,CAA8EC,GAA9E,CAAkFC,IAAlF,CAAuFC,MAAvF,CAA8FC,WAA9F,CAA0GC,IAA1G,CAA+GC,SAA/G,CAAyHC,GAAzH,CAA6HC,GAA7H,CAAiIC,cAAjI,CAAgJC,QAAhJ,CAAyJC,MAAzJ,CAAgKC,MAAhK,CAAuKC,SAAvK,KAAuL,iBAAvL,CACA,MAAO,GAAKC,CAAAA,IAAZ,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kBAAlB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAErB,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,eAAaC,SAAS,EAAtB,CAAOS,EAAP,YAAOA,EAAP,CACA,cAA6BZ,QAAQ,CAAC,EAAD,CAArC,wCAAOa,OAAP,eAAeC,UAAf,eACA,eAA2Bd,QAAQ,CAAC,EAAD,CAAnC,yCAAOe,MAAP,eAAcC,SAAd,eAEAf,SAAS,CAAC,UAAM,CACZgB,KAAK,CAAC,aAAaL,EAAd,CAAL,CACCM,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAL,OAAO,QAAIC,CAAAA,UAAU,CAACD,OAAD,CAAd,EAFb,EAGAQ,OAAO,CAACC,GAAR,CAAYT,OAAZ,EACH,CALQ,CAKP,EALO,CAAT,CAOAZ,SAAS,CAAC,UAAM,CACdgB,KAAK,CAAC,SAAD,CAAL,CACCC,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAEM,SAAAH,MAAM,QAAIC,CAAAA,SAAS,CAACD,MAAD,CAAb,EAFZ,EAGAM,OAAO,CAACC,GAAR,CAAYT,OAAZ,EACD,CALQ,CAKP,EALO,CAAT,CAQA,eAA6Bb,QAAQ,CAAC,EAAD,CAArC,yCAAOuB,OAAP,eAAeC,UAAf,eACA,eAAyBxB,QAAQ,CAAC,EAAD,CAAjC,yCAAOyB,KAAP,eAAaC,QAAb,eACA,eAAqB1B,QAAQ,CAACY,EAAD,CAA7B,0CAAOe,GAAP,gBAAWC,MAAX,gBAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAGC,MAAM,CAACC,OAAP,CAAe,gBAAf,CAAH,CAAoC,CACpC,GAAMC,CAAAA,IAAI,CAAG,CAACT,OAAO,CAAPA,OAAD,CAASE,KAAK,CAALA,KAAT,CAAeE,GAAG,CAAHA,GAAf,CAAb,CACAV,KAAK,CAAC,SAAD,CAAY,CACfgB,MAAM,CAAE,MADO,CAEfC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFM,CAGfC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAHS,CAAZ,CAAL,CAIGd,IAJH,CAIQ,UAAM,CACZG,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACD,CAND,EAOD,CACA,CAXD,CAaA,GAAMgB,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,MAAD,CACZ,CACE,GAAGT,MAAM,CAACC,OAAP,CAAe,aAAf,CAAH,CACA,CACEd,KAAK,CAAC,aAAasB,MAAd,CACL,CAAEN,MAAM,CAAE,QAAV,CACEO,MAAM,CAAE,CAAC,SAAS,kBAAV,CAA6B,eAAe,kBAA5C,CADV,CADK,CAAL,CAID,CACF,CATD,CAWA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACF,MAAD,CACb,CACE,GAAGT,MAAM,CAACC,OAAP,CAAe,aAAf,CAAH,CACA,CACEd,KAAK,CAAC,WAAWsB,MAAZ,CACL,CAAEN,MAAM,CAAE,QAAV,CACEO,MAAM,CAAE,CAAC,SAAS,kBAAV,CAA6B,eAAe,kBAA5C,CADV,CADK,CAAL,CAID,CACF,CATD,CAWA,GAAME,CAAAA,EAAE,CAAG,QAALA,CAAAA,EAAK,CAACC,OAAD,CAAa,CACtBhC,OAAO,CAACiC,IAAR,CAAa,CACXC,QAAQ,CAAE,gBAAkBF,OADjB,CAAb,EAGD,CAJD,CAMA,mBACM,aAAK,SAAS,CAAC,UAAf,wBACA,KAAC,OAAD,IADA,cAEA,aAFA,cAIA,KAAC,SAAD,wBACA,MAAC,GAAD,yBACA,KAAC,GAAD,IADA,cAEA,MAAC,GAAD,EAAK,EAAE,CAAC,IAAR,wBACI,MAAC,IAAD,EAAM,MAAM,CAAC,SAAb,wBACA,MAAC,IAAD,CAAM,MAAN,EAAa,EAAE,CAAC,IAAhB,wBACE,KAAC,KAAD,EAAO,OAAO,CAAC,SAAf,UAA0B9B,OAAO,CAAGA,OAAO,CAACiC,MAAX,CAAmB,IAApD,EADF,CACoE,GADpE,CACyEjC,OAAO,CAAGA,OAAO,CAACkC,IAAX,CAAkB,IADlG,CACwG,GADxG,cAEE,WAAG,SAAS,CAAC,OAAb,WACC,GADD,cAEA,KAAC,IAAD,EAAM,OAAO,CAAI,yBAAIL,CAAAA,EAAE,CAAC9B,EAAD,CAAN,EAAjB,CAA6B,MAAM,CAAC,QAApC,uBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAC,SAA9B,CAAyC,IAAI,CAAC,IAA9C,uBAAoD,KAAC,IAAD,CAAM,YAAN,IAApD,EADF,EAFA,CAIQ,GAJR,cAKA,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,IAAI,CAAC,QAA9B,CAAuC,IAAI,CAAC,IAA5C,CAAiD,OAAO,CAAE,yBAAI0B,CAAAA,GAAG,CAAC1B,EAAD,CAAP,EAA1D,CAAuE,IAAI,CAAC,OAA5E,uBAAoF,KAAC,IAAD,CAAM,KAAN,IAApF,EALA,GAFF,GADA,cAWA,MAAC,IAAD,CAAM,IAAN,yBACI,4CAAU,KAAC,KAAD,EAAO,OAAO,CAAC,SAAf,UAA0B,SAA1B,EAAV,CAAuD,OAAvD,CAAgEC,OAAO,CAAGA,OAAO,CAACmC,QAAX,CAAqB,IAA5F,CAAkG,GAAlG,cACU,KAAC,KAAD,EAAO,OAAO,CAAC,SAAf,UAA0B,UAA1B,EADV,CACwD,OADxD,CACiEnC,OAAO,CAAGA,OAAO,CAACoC,QAAX,CAAqB,IAD7F,CACmG,GADnG,cAEU,KAAC,KAAD,EAAO,OAAO,CAAC,SAAf,UAA0B,OAA1B,EAFV,CAEqD,OAFrD,CAE8DpC,OAAO,CAAGA,OAAO,CAACiC,MAAX,CAAmB,IAFxF,GADJ,cAIQ,wCAAM,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuB,aAAvB,EAAN,CAAoD,OAApD,CAA6DjC,OAAO,CAAGA,OAAO,CAACqC,SAAX,CAAsB,IAA1F,CAAgG,GAAhG,cACM,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuB,mBAAvB,EADN,CAC0D,OAD1D,CACmErC,OAAO,CAAGA,OAAO,CAACsC,WAAX,CAAwB,IADlG,CACwG,QADxG,CACkH,GADlH,cAEM,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuB,aAAvB,EAFN,CAEoD,OAFpD,CAE6DtC,OAAO,CAAGA,OAAO,CAACuC,IAAX,CAAiB,IAFrF,CAE2F,QAF3F,CAEqG,GAFrG,cAGM,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuB,eAAvB,EAHN,CAGsD,OAHtD,CAG+DvC,OAAO,CAAGA,OAAO,CAACwC,QAAX,CAAqB,IAH3F,CAGiG,QAHjG,CAG2G,GAH3G,cAIM,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuB,iBAAvB,EAJN,CAIwD,OAJxD,CAIiExC,OAAO,CAAGA,OAAO,CAACsC,WAAX,CAAwB,IAJhG,CAIsG,QAJtG,CAIgH,GAJhH,GAJR,cASQ,wCAAM,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuB,QAAvB,EAAN,CAA+C,OAA/C,CAAwDtC,OAAO,CAAGA,OAAO,CAACyC,IAAX,CAAiB,IAAhF,CAAsF,GAAtF,cACM,KAAC,KAAD,EAAO,OAAO,CAAC,MAAf,UAAuB,eAAvB,EADN,CACsD,OADtD,CAC+DzC,OAAO,CAAGA,OAAO,CAAC0C,MAAX,CAAmB,IADzF,CAC+F,GAD/F,GATR,GAXA,GADJ,cA0BI,aA1BJ,cA4BgB,MAAC,IAAD,EAAM,MAAM,CAAC,SAAb,wBACA,KAAC,IAAD,CAAM,MAAN,EAAa,EAAE,CAAC,IAAhB,8MADA,cAIA,MAAC,IAAD,CAAM,IAAN,yBAGA,qCACA,MAAC,UAAD,EAAY,IAAI,CAAC,IAAjB,CAAsB,SAAS,CAAC,MAAhC,wBACA,KAAC,UAAD,CAAY,OAAZ,EAAoB,IAAI,CAAC,IAAzB,uBACA,KAAC,UAAD,CAAY,IAAZ,EAAiB,IAAI,CAAC,IAAtB,gBADA,EADA,cAIA,KAAC,WAAD,EACE,IAAI,CAAC,QADP,CAEE,QAAQ,KAFV,CAGE,KAAK,CAAE5B,GAHT,CAIE,IAAI,CAAC,IAJP,CAKE,aAAa,CAAE,uBAAC6B,CAAD,QAAO5B,CAAAA,MAAM,CAAC4B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EALjB,EAJA,GADA,cAaA,MAAC,UAAD,EAAY,IAAI,CAAC,IAAjB,CAAsB,SAAS,CAAC,MAAhC,wBACA,KAAC,UAAD,CAAY,OAAZ,EAAoB,IAAI,CAAC,IAAzB,uBACA,KAAC,UAAD,CAAY,IAAZ,EAAiB,IAAI,CAAC,IAAtB,kDADA,EADA,cAIA,KAAC,WAAD,EACE,IAAI,CAAC,QADP,CAEE,QAAQ,KAFV,CAGE,KAAK,CAAEnC,OAHT,CAIE,IAAI,CAAC,IAJP,CAKE,QAAQ,CAAE,kBAACiC,CAAD,QAAOhC,CAAAA,UAAU,CAACgC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EALZ,EAJA,cAYA,KAAC,UAAD,CAAY,OAAZ,EAAoB,IAAI,CAAC,IAAzB,uBACA,KAAC,UAAD,CAAY,IAAZ,EAAiB,IAAI,CAAC,IAAtB,wGADA,EAZA,cAeA,KAAC,WAAD,EACE,IAAI,CAAC,IADP,CAEE,IAAI,CAAC,QAFP,CAGE,QAAQ,KAHV,CAIE,KAAK,CAAEjC,KAJT,CAKE,QAAQ,CAAE,kBAAC+B,CAAD,QAAO9B,CAAAA,QAAQ,CAAC8B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EALZ,EAfA,cAsBA,KAAC,MAAD,EAAQ,IAAI,CAAC,IAAb,CAAkB,IAAI,CAAC,QAAvB,CAAgC,OAAO,CAAC,SAAxC,CAAkD,OAAO,CAAE7B,YAA3D,4CAtBA,GAbA,GAHA,cAyCA,MAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,CAA8B,IAAI,CAAC,IAAnC,wBACE,oCACE,mCACE,WAAI,SAAS,CAAC,QAAd,kBADF,cAEE,WAAI,SAAS,CAAC,QAAd,0EAFF,cAGE,WAAI,SAAS,CAAC,QAAd,EAHF,GADF,EADF,cASE,uBAEGd,MAAM,CAAC4C,MAAP,CAAc,SAACC,GAAD,CAAO,CACpB,GAAIA,GAAG,CAACjC,GAAJ,EAAWf,EAAf,CAAkB,CAChB,MAAOgD,CAAAA,GAAP,CACH,CACA,CAJA,EAIEC,GAJF,CAIM,SAACC,EAAD,qBACH,sBACC,GADD,cAEA,WAAI,SAAS,CAAC,QAAd,UAAwBA,EAAE,CAACrC,KAA3B,EAFA,cAGA,sBAAK,GAAL,CAAUqC,EAAE,CAACvC,OAAb,GAHA,cAIA,iCACE,kCACA,KAAC,MAAD,EAAQ,OAAO,CAAC,QAAhB,CAAyB,IAAI,CAAC,QAA9B,CAAuC,IAAI,CAAC,IAA5C,CAAiD,OAAO,CAAE,yBAAIkB,CAAAA,IAAI,CAACqB,EAAE,CAACC,GAAJ,CAAR,EAA1D,CAA4E,IAAI,CAAE,YAAYD,EAAE,CAACnC,GAAjG,uBAAsG,KAAC,IAAD,CAAM,KAAN,IAAtG,EADA,EADF,EAJA,GAASmC,EAAE,CAAClD,EAAZ,CADG,EAJN,CAFH,EATF,GAzCA,GAJA,GA5BhB,cA4GgB,aA5GhB,cA8GgB,MAAC,IAAD,EAAM,MAAM,CAAC,SAAb,wBACA,KAAC,IAAD,CAAM,MAAN,EAAa,EAAE,CAAC,IAAhB,8DADA,cAIA,KAAC,IAAD,CAAM,IAAN,WACCC,OAAO,CAAGA,OAAO,CAACmD,OAAX,CAAoB,IAD5B,EAJA,GA9GhB,cAkKI,aAlKJ,GAFA,cAyOA,KAAC,GAAD,IAzOA,GADA,EAJA,cAiPA,KAAC,MAAD,IAjPA,GADN,CAqPD,CA1TD,CA4TA,cAAetD,CAAAA,QAAf","sourcesContent":["import { InputGroup,Accordion,CardGroup,Carousel,ListGroup,Table,Badge,Navbar,Nav,Form,Button,FormControl,Card,Container,Row,Col,DropdownButton,Dropdown,Select,Option,Jumbotron} from 'react-bootstrap';\r\nimport * as Icon from 'react-bootstrap-icons';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useParams } from 'react-router-dom';\r\nimport Headbar from './headbar';\r\nimport Bottom from './bottom';\r\nimport UploadFiles from './FileUpload';\r\nimport { Link } from 'react-router-dom';\r\nimport test1 from '../img/test1.jpg';\r\nimport test2 from '../img/test2.jpg';\r\n\r\nconst Datapage = () => {\r\n      \r\n  const history = useHistory();\r\n  const {id} = useParams();\r\n  const [product,setProduct] = useState([])\r\n  const [repair,setRepair] = useState([])\r\n\r\n  useEffect(() => {\r\n      fetch('/products/'+id)\r\n      .then(res => res.json())\r\n      .then(product => setProduct(product))\r\n      console.log(product)\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    fetch('/repair')\r\n    .then(res => res.json())\r\n    .then(repair => setRepair(repair))\r\n    console.log(product)\r\n  },[])\r\n\r\n                               \r\n  const [rdetale,setrdetale] = useState('');\r\n  const [rdate,setrdate] = useState('');\r\n  const [rid,setrid] = useState(id);\r\n\r\n  \r\n\r\n  const handleSubmit = () => {\r\n    if(window.confirm('are  you sure?')){\r\n    const blog = {rdetale,rdate,rid}\r\n    fetch('/repair', {\r\n      method: 'POST',\r\n      headers: { \"Content-Type\": \"application/json\"},\r\n      body: JSON.stringify(blog)\r\n    }).then(() => {\r\n      console.log('new blog added');\r\n    })\r\n  }\r\n  }\r\n\r\n  const Del = (dataid) =>\r\n  {\r\n    if(window.confirm('จะลบช้ะะะะ?'))\r\n    {\r\n      fetch('/products/'+dataid, \r\n      { method: 'DELETE' ,\r\n        header: {'Accept':'application/json','Content-Type':'application/json'}\r\n      })\r\n    }\r\n  }\r\n\r\n  const Delr = (dataid) =>\r\n  {\r\n    if(window.confirm('จะลบช้ะะะะ?'))\r\n    {\r\n      fetch('/repair/'+dataid, \r\n      { method: 'DELETE' ,\r\n        header: {'Accept':'application/json','Content-Type':'application/json'}\r\n      })\r\n    }\r\n  }\r\n\r\n  const ed = (eventId) => {\r\n    history.push({\r\n      pathname: '/editproduct/' + eventId\r\n    })\r\n  }\r\n\r\n  return (\r\n        <div className=\"App-main\">\r\n        <Headbar></Headbar>\r\n        <br></br>     \r\n        \r\n        <Container>\r\n        <Row>\r\n        <Col></Col>\r\n        <Col xs=\"12\">\r\n            <Card border=\"success\" >\r\n            <Card.Header as=\"h5\">\r\n              <Badge variant=\"success\">{product ? product.status :null}</Badge>{' '}{product ? product.name : null}{' '}\r\n              <p className=\"right\">\r\n              {' '}\r\n              <Link onClick = {()=>ed(id)} target=\"_blank\">\r\n                <Button type=\"submit\" variant=\"warning\"  size=\"sm\" ><Icon.PencilSquare/></Button>\r\n              </Link>{' '}\r\n              <Button variant=\"danger\" type=\"submit\" size=\"sm\" onClick={()=>Del(id)} href=\"/list\"><Icon.Trash/></Button>\r\n              </p>\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <p>       <Badge variant=\"warning\">{'ต้นทาง '}</Badge>{'  :  '}{product ? product.station1 :null}{' '}\r\n                          <Badge variant=\"warning\">{'ปลายทาง '}</Badge>{'  :  '}{product ? product.station2 :null}{' '}\r\n                          <Badge variant=\"success\">{'สถานะ'}</Badge>{'  :  '}{product ? product.status :null}\r\n                </p><p>   <Badge variant=\"dark\">{'ชนิดของสาย '}</Badge>{'  :  '}{product ? product.fibertype :null}{' '}\r\n                          <Badge variant=\"dark\">{'ระยะทางโดยประมาณ '}</Badge>{'  :  '}{product ? product.notuse_core :null}{' เมตร '}{' '}\r\n                          <Badge variant=\"dark\">{'จำนวน core '}</Badge>{'  :  '}{product ? product.core :null}{' core '}{' '}\r\n                          <Badge variant=\"dark\">{'ใช้งานไปแล้ว '}</Badge>{'  :  '}{product ? product.use_core :null}{' core '}{' '}\r\n                          <Badge variant=\"dark\">{'คงเหลือที่ว่าง '}</Badge>{'  :  '}{product ? product.notuse_core :null}{' core '}{' '}\r\n                </p><p>   <Badge variant=\"dark\">{'วันที่'}</Badge>{'  :  '}{product ? product.date :null}{' '}\r\n                          <Badge variant=\"dark\">{'ผู้ดำเนินการ '}</Badge>{'  :  '}{product ? product.person :null}{' '}\r\n                </p>\r\n            </Card.Body>\r\n            </Card>\r\n            <br/>\r\n     \r\n                        <Card border=\"success\" >\r\n                        <Card.Header as=\"h5\">\r\n                          ข้อมูลการซ่อมแซมและการบำรุงรักษา\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n\r\n\r\n                        <form>\r\n                        <InputGroup size=\"sm\" className=\"mb-3\">\r\n                        <InputGroup.Prepend size=\"sm\">\r\n                        <InputGroup.Text size=\"sm\">id</InputGroup.Text>\r\n                        </InputGroup.Prepend >\r\n                        <FormControl \r\n                          type=\"string\" \r\n                          required \r\n                          value={rid}\r\n                          size=\"sm\"\r\n                          oncontextmenu={(e) => setrid(e.target.value)}\r\n                        />\r\n                        </InputGroup>\r\n                        <InputGroup size=\"sm\" className=\"mb-3\">\r\n                        <InputGroup.Prepend size=\"sm\">\r\n                        <InputGroup.Text size=\"sm\">รายการ</InputGroup.Text>\r\n                        </InputGroup.Prepend >\r\n                        <FormControl \r\n                          type=\"string\" \r\n                          required \r\n                          value={rdetale}\r\n                          size=\"sm\"\r\n                          onChange={(e) => setrdetale(e.target.value)}\r\n\r\n                        />\r\n                        <InputGroup.Prepend size=\"sm\">\r\n                        <InputGroup.Text size=\"sm\">วันที่ดำเนินการ</InputGroup.Text>\r\n                        </InputGroup.Prepend >\r\n                        <FormControl \r\n                          size=\"sm\"\r\n                          type=\"string\" \r\n                          required \r\n                          value={rdate}\r\n                          onChange={(e) => setrdate(e.target.value)}\r\n                        />\r\n                        <Button size=\"sm\" type=\"submit\" variant=\"success\" onClick={handleSubmit}>เพิ่ม</Button>\r\n                        </InputGroup>\r\n                        </form>\r\n                        <Table striped bordered hover size=\"sm\">\r\n                          <thead>\r\n                            <tr>\r\n                              <th className=\"center\">date</th>\r\n                              <th className=\"center\">รายการซ่อม</th>\r\n                              <th className=\"center\"></th>\r\n                              \r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                          \r\n                            {repair.filter((val)=>{\r\n                              if (val.rid == id){\r\n                                return val\r\n                            }\r\n                            }).map((el)=>(\r\n                                <tr key={el.id}>\r\n                                {' '}\r\n                                <th className=\"center\">{el.rdate}</th>\r\n                                <th>{' '}{el.rdetale}</th>\r\n                                <th>\r\n                                  <div>\r\n                                  <Button variant=\"danger\" type=\"submit\" size=\"sm\" onClick={()=>Delr(el._id)} href={\"/product/\"+el.rid}><Icon.Trash/></Button>\r\n                                  </div>\r\n                                </th>\r\n                                </tr>\r\n\r\n                            ))}\r\n                          \r\n                          </tbody>\r\n                        </Table>\r\n\r\n                        </Card.Body>\r\n                        </Card>\r\n\r\n                        <br/>\r\n\r\n                        <Card border=\"success\" >\r\n                        <Card.Header as=\"h5\">\r\n                          หมายเหตุ\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n                        {product ? product.anyelse :null}\r\n                              {/*<form>\r\n                              <InputGroup>\r\n                              <InputGroup.Prepend>\r\n                              <InputGroup.Text>วันที่ดำเนินงาน</InputGroup.Text>\r\n                              </InputGroup.Prepend>\r\n                              <FormControl \r\n                                type=\"string\" \r\n                                required \r\n                                value={imgid}\r\n                                onChange={(e) => setimgid(e.target.value)}\r\n                              />\r\n                              <Form.Group controlId=\"formFileSm\" className=\"mb-3\">\r\n                              <Form.Label>Small file input example</Form.Label>\r\n                              <Form.Control \r\n                                type=\"file\" \r\n                                size=\"sm\" \r\n                                name=\"images\" \r\n                                id=\"formFile\" \r\n                                multiple\r\n                              />\r\n                              \r\n                              </Form.Group>\r\n                              </InputGroup>\r\n                              <Button type=\"submit\" onClick={handleSubmit}>เพิ่มรายการ</Button>\r\n                              </form>\r\n                              <div>\r\n                              <form>\r\n                              <input\r\n                                type=\"string\" \r\n                                required \r\n                                value={imgid}\r\n                                onChange={(e) => setimgid(e.target.value)}\r\n                              />\r\n                              <input type=\"file\" class=\"form-control\" name=\"images\" id=\"formFile\" multiple/>\r\n                              <Button type=\"submit\" class=\"btn btn-warning\" value=\"Upload Images\" onClick={handleSubmit} />\r\n                              \r\n                             \r\n                              </form>\r\n                              </div>*/}\r\n                            \r\n                        </Card.Body>\r\n                        </Card>\r\n            \r\n\r\n            \r\n            \r\n            <br/>\r\n            {/*<CardGroup>\r\n            <Card>\r\n              <Card.Img variant=\"top\" src={test1} alt=\"Girl in a jacket\" width=\"200\" height=\"200\" />\r\n              <Card.Body>\r\n                <Card.Title>Card title</Card.Title>\r\n                <Card.Text>\r\n                  \r\n                </Card.Text>\r\n              </Card.Body>\r\n              <Card.Footer>\r\n                <small className=\"text-muted\">Last updated 3 mins ago</small>\r\n              </Card.Footer>\r\n            </Card>\r\n            <Card>\r\n              <Card.Img variant=\"top\" src={test1} alt=\"Girl in a jacket\" width=\"200\" height=\"200\"  />\r\n              <Card.Body>\r\n                <Card.Title>Card title</Card.Title>\r\n                <Card.Text>\r\n                  \r\n                </Card.Text>\r\n              </Card.Body>\r\n              <Card.Footer>\r\n                <small className=\"text-muted\">Last updated 3 mins ago</small>\r\n              </Card.Footer>\r\n            </Card>\r\n            <Card>\r\n              <Card.Img variant=\"top\" src={test1} alt=\"Girl in a jacket\" width=\"200\" height=\"200\"  />\r\n              <Card.Body>\r\n                <Card.Title>Card title</Card.Title>\r\n                <Card.Text>\r\n                  \r\n                </Card.Text>\r\n              </Card.Body>\r\n              <Card.Footer>\r\n                <small className=\"text-muted\">Last updated 3 mins ago</small>\r\n              </Card.Footer>\r\n            </Card>\r\n            <Card>\r\n              <Card.Img variant=\"top\" src={test1} alt=\"Girl in a jacket\" width=\"200\" height=\"200\"  />\r\n              <Card.Body>\r\n                <Card.Title>Card title</Card.Title>\r\n                <Card.Text>\r\n                  \r\n                </Card.Text>\r\n              </Card.Body>\r\n              <Card.Footer>\r\n                <small className=\"text-muted\">Last updated 3 mins ago</small>\r\n              </Card.Footer>\r\n            </Card>\r\n            <Card>\r\n              <Card.Img variant=\"top\" src={test1} alt=\"Girl in a jacket\" width=\"200\" height=\"200\"  />\r\n              <Card.Body>\r\n                <Card.Title>Card title</Card.Title>\r\n                <Card.Text>\r\n                  \r\n                </Card.Text>\r\n              </Card.Body>\r\n              <Card.Footer>\r\n                <small className=\"text-muted\">Last updated 3 mins ago</small>\r\n              </Card.Footer>\r\n            </Card>\r\n            </CardGroup>\r\n            */}\r\n\r\n            \r\n          \r\n\r\n        </Col>\r\n        <Col></Col>\r\n         </Row>\r\n        </Container>\r\n        <Bottom></Bottom>\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default Datapage;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}